<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>
   SWAPP Admin API Explorer
  </title>
  <script type="text/javascript" language="JavaScript"> 
    if (top.frames.length==0) {top.location="index.html";}
  </script>

  <link type="text/css" rel="stylesheet" href="../css/user_interface.css">
  <link type="text/css" rel="stylesheet" href="../css/blueish.css" title="Blueish">

  <script type="text/javascript" src="../js/yui/yahoo-min.js"></script> 
  <script type="text/javascript" src="../js/yui/event-min.js"></script>
  <script type="text/javascript" src="../js/yui/connection_core-min.js"></script>
  <script type="text/javascript" src="../js/yui/json-min.js"></script> 
  <script type="text/javascript" src="../js/jsonbrowser.js"></script> 
  <script type="text/javascript" src="../js/utils.js"></script> 

  <script type="text/javascript"> 
    function postUser() {
        switchPageIfNeeded();
        var user = document.getElementById("user-post-user").value;
        var password = document.getElementById("user-post-password").value;
        var content = document.getElementById("user-post-content").value;
        paste('Click on a JSON property to display a path here...', 'gray');
        YAHOO.util.Connect.asyncRequest("POST", "/swapp/admin/users?user=" + user + "&password=" + password, {
            success: function(o) {
                        var response = YAHOO.lang.JSON.parse(o.responseText);
                        var html = display(response, "response");
                        parent.display.document.getElementById("data").innerHTML = html;
                     }
            }, content);
    }
    function deleteUser() {
        switchPageIfNeeded();
        var user = document.getElementById("user-delete-user").value;
        paste('Click on a JSON property to display a path here...', 'gray');
        YAHOO.util.Connect.asyncRequest("DELETE", "/swapp/admin/users?user=" + user, {
            success: function(o) {
                        var response = YAHOO.lang.JSON.parse(o.responseText);
                        var html = display(response, "response");
                        parent.display.document.getElementById("data").innerHTML = html;
                     }
            }, "");
    }
    function getUsers() {
        switchPageIfNeeded();
        var user = document.getElementById("user-get-user").value;
        paste('Click on a JSON property to display a path here...', 'gray');
        YAHOO.util.Connect.asyncRequest("GET", "/swapp/admin/users?user=" + user, {
            success: function(o) {
                        var response = YAHOO.lang.JSON.parse(o.responseText);
                        var html = display(response, "response");
                        parent.display.document.getElementById("data").innerHTML = html;
                     }
            });
    }   
    function postSetting() {
        switchPageIfNeeded();
        var module = document.getElementById("setting-post-module").value;
        var setting = document.getElementById("setting-post-setting").value;
        var content = document.getElementById("setting-post-content").value;
        paste('Click on a JSON property to display a path here...', 'gray');
        YAHOO.util.Connect.asyncRequest("POST", "/swapp/admin/settings?module=" + module + "&setting=" + setting, {
            success: function(o) {
                        var response = YAHOO.lang.JSON.parse(o.responseText);
                        var html = display(response, "response");
                        parent.display.document.getElementById("data").innerHTML = html;
                     }
            }, content);
    }
    function getSettings() {
        switchPageIfNeeded();
        var module = document.getElementById("setting-get-module").value;
        var setting = document.getElementById("setting-get-setting").value;
        paste('Click on a JSON property to display a path here...', 'gray');
        YAHOO.util.Connect.asyncRequest("GET", "/swapp/admin/settings?module=" + module + "&setting=" + setting, {
            success: function(o) {
                        var response = YAHOO.lang.JSON.parse(o.responseText);
                        var html = display(response, "response");
                        parent.display.document.getElementById("data").innerHTML = html;
                     }
            });
    }        
    function getStatistics() {
        switchPageIfNeeded();
        paste('Click on a JSON property to display a path here...', 'gray');
        YAHOO.util.Connect.asyncRequest("GET", "/swapp/admin/statistics", {
            success: function(o) {
                        var response = YAHOO.lang.JSON.parse(o.responseText);
                        var html = display(response, "response");
                        parent.display.document.getElementById("data").innerHTML = html;
                     }
            });
    }
  </script>
    
  <style type="text/css">
     input {
         font-family: monospace;
     }
     table.c7 {width:100%;}
     p.c1 {
         font-weight: bold;
         color: #18159D;
         font-family: verdana;
         font-size: 12px;
         margin-top: 15px;
     }
     .url {
         padding-bottom: 5px;
         font-family: monospace;
         font-size: 12px;
     }
  </style>
 </head>
 <body class="panel">
   <table class="c7">
    <tr>
     <td>
       <a href="/swapp" target="_top"><img style="border:0; float:left;" src="../img/api_explorer.png"></a>
       <span style="font-family:verdana;font-weight:bold;font-size:10px;float:right;">
        <a href="/www/doc/login/index.html" target="_top">Login</a> |
        Admin |
        <a href="/www/doc/RDFDB/index.html" target="_top">RDFDB</a> |
        <a href="/www/doc/sessionDB/index.html" target="_top">SessionDB</a> |
        <a href="/www/doc/sessionEQ/index.html" target="_top">SessionEQ</a> |
        <a href="../help.html" target="display">Help</a>
       </span>
     </td>
    </tr>
    <tr>
     <td valign="bottom" align="center">
      <span style="font-family:monospace;font-size:20px;">/swapp/admin/*</span>
     </td>
    </tr>
    <tr>
     <td valign="bottom">
      <p class="c1">
       USERS
      </p>
     </td>
    </tr>
    <tr>
     <td class="frame">
      <span class="url">
       <input id="delete" name="delete" type="button" onclick="postUser();" class="button" value="POST"> /swapp/admin/users?user=<input style="padding:0;width:7em;" id="user-post-user" name="user-post-user" type="text" size="10" spellcheck="false" value="aladdin">&amp;password=<input style="padding:0;width:7em;" id="user-post-password" name="user-post-password" type="password" size="10" value="">
       <input style="float:right;" type="button" onclick="clearFields(['user-post-user','user-post-password','user-post-content']);" class="button" value="Clear">
      </span>  
      <input class="string" id="user-post-content" name="user-post-content" type="text" spellcheck="false" value="[roles([user])]">
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td class="frame">
      <span class="url">
          <input id="get" name="get" type="button" onclick="deleteUser();" class="button" value="DELETE"> /swapp/admin/users?user=<input style="padding:0;width:7em;" id="user-delete-user" name="user2" type="text" size="10" spellcheck="false" value="aladdin">
       <input style="float:right;" type="button" onclick="clearFields(['user-delete-user']);" class="button" value="Clear">
      </span> 
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td class="frame">
      <span class="url">
       <input id="get" name="get" type="button" onclick="getUsers();" class="button" value="&nbsp;GET&nbsp;"> /swapp/admin/users?user=<input style="padding:0;width:7em;" id="user-get-user" name="user-get-user" type="text" size="10" spellcheck="false" value="aladdin">
       <input style="float:right;" type="button" onclick="clearFields(['user-get-user']);" class="button" value="Clear">
      </span> 
     </td>
    </tr>
    <tr>
     <td valign="bottom">
      <p class="c1">
       SETTINGS
      </p>
     </td>
    </tr>
    <tr>
     <td class="frame">
      <span class="url">
       <input id="delete" name="delete" type="button" onclick="postSetting();" class="button" value="POST"> /swapp/admin/settings?module=<input style="padding:0;width:7em;" id="setting-post-module" name="setting-post-module" type="text" size="10" spellcheck="false" value="">&amp;setting=<input style="padding:0;width:7em;" id="setting-post-setting" name="setting-post-setting" type="text" size="10" spellcheck="false" value="">
       <input style="float:right;" type="button" onclick="clearFields(['setting-post-module','setting-post-setting','setting-post-content']);" class="button" value="Clear">
      </span>  
      <input class="string" id="setting-post-content" name="setting-post-content" type="text" spellcheck="false" value="">
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td class="frame">
      <span class="url">
          <input id="get" name="get" type="button" onclick="getSettings();" class="button" value="&nbsp;GET&nbsp;"> /swapp/admin/settings?module=<input style="padding:0;width:7em;" id="setting-get-module" name="setting-get-module" type="text" size="10" spellcheck="false" value="">&amp;setting=<input style="padding:0;width:7em;" id="setting-get-setting" name="setting-get-setting" type="text" size="10" spellcheck="false" value="">
        <input style="float:right;" type="button" onclick="clearFields(['setting-get-module','setting-get-setting']);" class="button" value="Clear">
      </span> 
     </td>
    </tr>
    <tr>
     <td valign="bottom">
      <p class="c1">
       STATISTICS
      </p>
     </td>
    </tr>
    <tr>
     <td class="frame">
      <span class="url">
       <input id="get" name="get" type="button" onclick="getStatistics();" class="button" value="&nbsp;GET&nbsp;"> /swapp/admin/statistics
      </span>
     </td>
    </tr>
    <tr>
     <td valign="bottom">
      <p class="c1">
       PRESENTATION
      </p>
     </td>
    </tr>
    <tr>
     <td class="frame">
      Show as
      <select name="presentation" class="menu">
       <option value="HTML" selected>
        HTML
       </option>
      </select>
      &nbsp;&nbsp;&nbsp;Truncate long strings
      <input type="checkbox" id="jsonTrunc" name="jsonTrunc">   
      </td>
    </tr>
   </table>
 </body>
</html>

